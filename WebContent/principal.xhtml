<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:p="http://primefaces.org/ui"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:c="http://java.sun.com/jsp/jstl/core"
	xmlns:ui="http://java.sun.com/jsf/facelets">


<h:head>
	<title>Desafio Pitang</title>
	<h:outputStylesheet library="css" name="styles.css" />
</h:head>
<h:body>

	<h:form id="mainForm">

		<p:panel id="mainPanel" header="Bem Vindo Ao Desafio Da Pintag"
			footer="Obrigado Pitang!">
			<p:messages id="messages" showDetail="false" closable="true">
				<p:autoUpdate />
			</p:messages>

			<div>
				<LABEL>Escolha uma Opção</LABEL>
			</div>
			<p:commandButton value="Cadastrar" styleClass="button"
				action="#{principalMB.paginaCadastrar}">

			</p:commandButton>
			<p:commandButton value="Update" styleClass="button"
				action="#{principalMB.paginaAtualizar}">

			</p:commandButton>
			<br />
			<p:commandButton value="Listar Todos" styleClass="button"
				onclick="PF('table').show()"
				action="#{principalMB.listaTodosUsuarios}">
				
				<p:ajax update="table" process="@this" resetValues="table"/>

			</p:commandButton>
			<p:commandButton value="Deletar" styleClass="button"
				action="#{principalMB.paginaDeletear}">

			</p:commandButton>
			<p:dataTable widgetVar="table" id="table"  
				rendered="#{not empty principalMB.listaUsuarios}" var="list" value="#{principalMB.listaUsuarios}">
				<p:column headerText="Nome">
					<h:outputText value="#{list.nome}" styleClass="colum"/>
				</p:column>

				<p:column headerText="E-mail" >
					<h:outputText value="#{list.email}" />
				</p:column>
				
				<p:column headerText="Tipo">
					<h:outputText value="#{list.tipoUm}" />
				</p:column>
				
				<p:column headerText="Numero">
					<h:outputText value="DDD #{list.telefoneUm}" />
				</p:column>
				
				<p:column headerText="Tipo">
					<h:outputText value="#{list.tipoDois}" />
				</p:column>
				
				<p:column headerText="#{list.tipoDois}">
					<h:outputText value="DDD #{list.telefoneDois}" />
				</p:column>

			</p:dataTable>
		</p:panel>

	</h:form>
</h:body>

</html>